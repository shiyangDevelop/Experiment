{"version":3,"sources":["http/index.js","pages/user/login/index.module.less","assets/images/logo.png","pages/user/login/index.js"],"names":["client","axios","create","module","exports","Login","props","state","username","password","verificationCode","e","preventDefault","this","history","push","Object","keys","every","key","post","data","success","console","error","setState","target","name","value","className","CSS","login","logo","src","logoImg","alt","onSubmit","loginFn","bind","formInput","type","onChange","inputChangeFn","placeholder","autoComplete","formButton","to","pathname","React","Component"],"mappings":"+FAAA,YACMA,EADN,OACeC,EAAMC,OAAO,IAGbF,O,mBCHfG,EAAOC,QAAU,CAAC,MAAQ,eAAe,KAAO,cAAc,UAAY,mBAAmB,iBAAmB,0BAA0B,WAAa,sB,mBCDvJD,EAAOC,QAAU,IAA0B,kC,wZCKrCC,E,YACJ,WAAaC,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACXC,SAAU,GACVC,SAAU,GACVC,iBAAkB,IALF,E,8GAQLC,G,+EACbA,EAAEC,iBACFC,KAAKP,MAAMQ,QAAQC,KAAK,UACXC,OAAOC,KAAKJ,KAAKN,OAAOW,OAAM,SAACC,GAAD,QAAW,EAAKZ,MAAMY,M,0CAG7ClB,IAAMmB,KAAK,aAAcP,KAAKN,O,cACtCc,KAAKC,SACXT,KAAKP,MAAMQ,QAAQC,KAAK,a,kDAG1BQ,QAAQC,MAAR,M,qJAISb,GACbE,KAAKY,SAAL,eACGd,EAAEe,OAAOC,KAAOhB,EAAEe,OAAOE,U,+BAI5B,OACE,yBAAKC,UAAWC,IAAIC,OAClB,yBAAKF,UAAWC,IAAIE,MAClB,yBAAKC,IAAKC,IAASC,IAAI,KACvB,mCAEF,0BAAMC,SAAUvB,KAAKwB,QAAQC,KAAKzB,OAChC,yBAAKgB,UAAWC,IAAIS,WAClB,uBAAGV,UAAU,8BACb,2BAAOW,KAAK,OAAOZ,MAAOf,KAAKN,MAAMC,SAAUmB,KAAK,WAAWc,SAAU5B,KAAK6B,cAAcJ,KAAKzB,MAAO8B,YAAY,oCAEtH,yBAAKd,UAAWC,IAAIS,WAClB,uBAAGV,UAAU,4BACb,2BAAOW,KAAK,WAAWZ,MAAOf,KAAKN,MAAME,SAAUkB,KAAK,WAAWc,SAAU5B,KAAK6B,cAAcJ,KAAKzB,MAAO8B,YAAY,2BAAOC,aAAa,kBAE9I,yBAAKf,UAAWC,IAAIS,WAClB,uBAAGV,UAAU,gCACb,2BAAOW,KAAK,OAAOZ,MAAOf,KAAKN,MAAMG,iBAAkBiB,KAAK,mBAAmBc,SAAU5B,KAAK6B,cAAcJ,KAAKzB,MAAO8B,YAAY,mCACpI,0BAAMd,UAAWC,IAAIpB,kBAAkB,yBAAKuB,IAAKpB,KAAKN,MAAMG,iBAAkByB,IAAI,KAAlF,uBAEF,yBAAKN,UAAWC,IAAIe,YAAY,4BAAQL,KAAK,UAAb,kBAElC,kBAAC,IAAD,CAAMM,GAAI,SAAAhC,GAAO,O,yVAAA,IAASA,EAAT,CAAkBiC,SAAU,iBAA7C,iC,GApDYC,IAAMC,WAyDX5C","file":"static/js/6.b956e079.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst client = axios.create({\r\n  // baseURL: 'http://localhost:9000'\r\n})\r\nexport default client\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login__3sPyc\",\"logo\":\"logo__b7Pke\",\"formInput\":\"formInput__OvLSa\",\"verificationCode\":\"verificationCode__1Hrq0\",\"formButton\":\"formButton__3H2y5\"};","module.exports = __webpack_public_path__ + \"static/media/logo.2942ad72.png\";","import React from 'react';\r\nimport axios from '../../../http/index'\r\nimport { Link } from 'react-router-dom'\r\nimport CSS from './index.module.less'\r\nimport logoImg from '../../../assets/images/logo.png';\r\nclass Login extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      verificationCode: ''\r\n    }\r\n  }\r\n  async loginFn (e) {\r\n    e.preventDefault()\r\n    this.props.history.push('/home')\r\n    let isFull = Object.keys(this.state).every((key) => !!this.state[key])\r\n    if (isFull) {\r\n      try {\r\n        let res = await axios.post('/api/login', this.state)\r\n        if (res.data.success) {\r\n          this.props.history.push('forgetPwd')\r\n        }\r\n      } catch (err) {\r\n        console.error(err)\r\n      }\r\n    }\r\n  }\r\n  inputChangeFn (e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={CSS.login}>\r\n        <div className={CSS.logo}>\r\n          <img src={logoImg} alt=''/>\r\n          <h3>EM</h3>\r\n        </div>\r\n        <form onSubmit={this.loginFn.bind(this)}>\r\n          <div className={CSS.formInput}>\r\n            <i className=\"iconfont icon-people_fill\"></i>\r\n            <input type=\"text\" value={this.state.username} name=\"username\" onChange={this.inputChangeFn.bind(this)} placeholder=\"输入用户名\" />\r\n          </div>\r\n          <div className={CSS.formInput}>\r\n            <i className=\"iconfont icon-lock_fill\"></i>\r\n            <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.inputChangeFn.bind(this)} placeholder=\"输入密码\" autoComplete=\"new-password\" />\r\n          </div>\r\n          <div className={CSS.formInput}>\r\n            <i className=\"iconfont icon-integral_fill\"></i>\r\n            <input type=\"text\" value={this.state.verificationCode} name=\"verificationCode\" onChange={this.inputChangeFn.bind(this)} placeholder=\"输入验证码\" />\r\n            <span className={CSS.verificationCode}><img src={this.state.verificationCode} alt=\"\" />换一个</span>\r\n          </div>\r\n          <div className={CSS.formButton}><button type=\"submit\">登录</button></div>\r\n        </form>\r\n        <Link to={history => ({...history, pathname: \"/forgetPwd\"})}>忘记密码</Link>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Login\r\n"],"sourceRoot":""}