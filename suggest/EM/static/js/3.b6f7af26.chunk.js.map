{"version":3,"sources":["pages/user/index.module.less","assets/images/logo.png","pages/user/login.js"],"names":["module","exports","Login","props","state","username","password","verificationCode","e","preventDefault","Object","keys","this","every","key","axios","post","data","success","history","push","console","error","setState","target","name","value","className","CSS","login","logo","src","logoImg","alt","onSubmit","loginFn","bind","formInput","type","onChange","inputChangeFn","placeholder","autoComplete","formButton","to","path","component","ResetPassword","React","Component"],"mappings":"kFACAA,EAAOC,QAAU,CAAC,MAAQ,4CAA4C,KAAO,2CAA2C,UAAY,gDAAgD,iBAAmB,uDAAuD,WAAa,mD,mBCD3QD,EAAOC,QAAU,IAA0B,kC,mMCMrCC,E,YACJ,WAAaC,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACXC,SAAU,GACVC,SAAU,GACVC,iBAAkB,IALF,E,8GAQLC,G,+EACbA,EAAEC,kBACWC,OAAOC,KAAKC,KAAKR,OAAOS,OAAM,SAACC,GAAD,QAAW,EAAKV,MAAMU,M,0CAG7CC,IAAMC,KAAK,aAAcJ,KAAKR,O,cACtCa,KAAKC,SACXN,KAAKT,MAAMgB,QAAQC,KAAK,a,kDAG1BC,QAAQC,MAAR,M,qJAISd,GACbI,KAAKW,SAAL,eACGf,EAAEgB,OAAOC,KAAOjB,EAAEgB,OAAOE,U,+BAI5B,OACE,yBAAKC,UAAWC,IAAIC,OAClB,yBAAKF,UAAWC,IAAIE,MAClB,yBAAKC,IAAKC,IAASC,IAAI,KACvB,mCAEF,0BAAMC,SAAUtB,KAAKuB,QAAQC,KAAKxB,OAChC,yBAAKe,UAAWC,IAAIS,WAClB,uBAAGV,UAAU,8BACb,2BAAOW,KAAK,OAAOZ,MAAOd,KAAKR,MAAMC,SAAUoB,KAAK,WAAWc,SAAU3B,KAAK4B,cAAcJ,KAAKxB,MAAO6B,YAAY,oCAEtH,yBAAKd,UAAWC,IAAIS,WAClB,uBAAGV,UAAU,4BACb,2BAAOW,KAAK,WAAWZ,MAAOd,KAAKR,MAAME,SAAUmB,KAAK,WAAWc,SAAU3B,KAAK4B,cAAcJ,KAAKxB,MAAO6B,YAAY,2BAAOC,aAAa,kBAE9I,yBAAKf,UAAWC,IAAIS,WAClB,uBAAGV,UAAU,gCACb,2BAAOW,KAAK,OAAOZ,MAAOd,KAAKR,MAAMG,iBAAkBkB,KAAK,mBAAmBc,SAAU3B,KAAK4B,cAAcJ,KAAKxB,MAAO6B,YAAY,mCACpI,0BAAMd,UAAWC,IAAIrB,kBAAkB,yBAAKwB,IAAKnB,KAAKR,MAAMG,iBAAkB0B,IAAI,KAAlF,uBAEF,yBAAKN,UAAWC,IAAIe,YAAY,4BAAQL,KAAK,UAAb,kBAElC,kBAAC,IAAD,CAAMM,GAAG,aAAT,4BACA,kBAAC,IAAD,CAAOC,KAAK,gBAAgBC,UAAWC,W,GApD3BC,IAAMC,WAyDX/C","file":"static/js/3.b6f7af26.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"src-pages-user-index-module__login--2WJ5N\",\"logo\":\"src-pages-user-index-module__logo--3HjCX\",\"formInput\":\"src-pages-user-index-module__formInput--2W_kU\",\"verificationCode\":\"src-pages-user-index-module__verificationCode--M0Bbg\",\"formButton\":\"src-pages-user-index-module__formButton--1DWvz\"};","module.exports = __webpack_public_path__ + \"static/media/logo.2942ad72.png\";","import React from 'react';\r\nimport axios from '../../http'\r\nimport { Link, Route } from 'react-router-dom'\r\nimport CSS from './index.module.less'\r\nimport logoImg from '../../assets/images/logo.png';\r\nimport ResetPassword from './resetPassword'\r\nclass Login extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      verificationCode: ''\r\n    }\r\n  }\r\n  async loginFn (e) {\r\n    e.preventDefault()\r\n    let isFull = Object.keys(this.state).every((key) => !!this.state[key])\r\n    if (isFull) {\r\n      try {\r\n        let res = await axios.post('/api/login', this.state)\r\n        if (res.data.success) {\r\n          this.props.history.push('forgetPwd')\r\n        }\r\n      } catch (err) {\r\n        console.error(err)\r\n      }\r\n    }\r\n  }\r\n  inputChangeFn (e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={CSS.login}>\r\n        <div className={CSS.logo}>\r\n          <img src={logoImg} alt=''/>\r\n          <h3>EM</h3>\r\n        </div>\r\n        <form onSubmit={this.loginFn.bind(this)}>\r\n          <div className={CSS.formInput}>\r\n            <i className=\"iconfont icon-people_fill\"></i>\r\n            <input type=\"text\" value={this.state.username} name=\"username\" onChange={this.inputChangeFn.bind(this)} placeholder=\"输入用户名\" />\r\n          </div>\r\n          <div className={CSS.formInput}>\r\n            <i className=\"iconfont icon-lock_fill\"></i>\r\n            <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.inputChangeFn.bind(this)} placeholder=\"输入密码\" autoComplete=\"new-password\" />\r\n          </div>\r\n          <div className={CSS.formInput}>\r\n            <i className=\"iconfont icon-integral_fill\"></i>\r\n            <input type=\"text\" value={this.state.verificationCode} name=\"verificationCode\" onChange={this.inputChangeFn.bind(this)} placeholder=\"输入验证码\" />\r\n            <span className={CSS.verificationCode}><img src={this.state.verificationCode} alt=\"\" />换一个</span>\r\n          </div>\r\n          <div className={CSS.formButton}><button type=\"submit\">登录</button></div>\r\n        </form>\r\n        <Link to=\"forgetPwd\">忘记密码</Link>\r\n        <Route path=\"resetPassword\" component={ResetPassword}></Route>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Login\r\n"],"sourceRoot":""}